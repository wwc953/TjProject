{
  "size": 0,
  "query": {
    "bool": {
      "must_not": [
        {
          "terms": {
            "operView.keyword": [
              "退出机器人",
              "连接成功",
              "连接失败",
              "关闭助理",
              "通知唤醒",
              "初始化机器人"
            ],
            "boost": 1
          }
        }
      ],
      "adjust_pure_negative": true,
      "boost": 1
    }
  },
  "aggregations": {
    "mgtorg_agg": {
      "terms": {
        "field": "cityCode.keyword",
        "size": 2000,
        "min_doc_count": 1,
        "shard_min_doc_count": 0,
        "show_term_doc_count_error": false,
        "order": {
          "_key": "asc"
        }
      },
      "aggregations": {
        "dis_rs": {
          "cardinality": {
            "field": "handleId.keyword"
          }
        },
        "filter_gzp": {
          "filter": {
            "terms": {
              "operView.keyword": [
                "查询作业计划",
                "制定作业计划",
                "创建作业计划",
                "查询问题制作工作票",
                "查询我的工作票",
                "工作票安全交底",
                "工作票编制",
                "工作票签发",
                "工作票许可",
                "工作票终结",
                "我的工作票",
                "许可工作票",
                "终结工作票"
              ],
              "boost": 1
            }
          }
        },
        "filter_zc": {
          "filter": {
            "terms": {
              "operView.keyword": [
                "一键扫码",
                "扫码装拆"
              ],
              "boost": 1
            }
          }
        },
        "filter_zs": {
          "filter": {
            "terms": {
              "operView.keyword": [
                "查询知识库",
                "查询知识详情",
                "知识考试",
                "大模型数据",
                "练习题库"
              ],
              "boost": 1
            }
          }
        },
        "filter_ckzb": {
          "filter": {
            "terms": {
              "operView.keyword": [
                "工作总览",
                "查询线损",
                "查询欠费",
                "查询台区异常",
                "查询采集异常",
                "欠费已停电用户",
                "临时用电超期用户",
                "断相指标",
                "减容预警用户",
                "临时用电超期预警用户",
                "综合线损",
                "电费回收率"
              ],
              "boost": 1
            }
          }
        },
        "filter_zygd": {
          "filter": {
            "terms": {
              "operView.keyword": [
                "待办工单",
                "附近工单",
                "当前位置工单",
                "规划工单路径",
                "查询更名工单",
                "查询居民峰谷电变更工单",
                "查询定比定量变更工单",
                "查询装拆调试工单",
                "查询上门服务工单",
                "查询农电工单",
                "规划工作",
                "创建三入走访工单",
                "创建充电设施维护工单",
                "创建巡视检查工单",
                "创建光伏设施维护工单"
              ],
              "boost": 1
            }
          }
        }
      }
    }
  }
}